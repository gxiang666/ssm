<!DOCTYPE html>
<html lang="zh">
	<style>
		label.error {
			line-height: 30px;
			font-size: 14px;
			color: red;
		}
		
		label.hint {
			line-height: 30px;
			font-size: 12px;
			color: #B0B0B0;
		}
	</style>
<#include "../common/head.html" />
<body class="no-skin">
	<#include "../common/navbar.html" />
	<div class="main-container ace-save-state" id="main-container">
		<!-- bootstap-ace样式 -->
		<script type="text/javascript">
                try{ace.settings.loadState('main-container')}catch(e){}
        </script>
        
        <#include "../common/sidebar.html" />
        
		<div class="main-content">
			<div class="main-content-inner">
				<div class="breadcrumbs ace-save-state" id="breadcrumbs">
					<ul class="breadcrumb">
						<li><i class="ace-icon fa fa-home home-icon"></i> <a href="#">Home</a></li>
						<li class="active">角色管理</li>
					</ul>
				</div>
				<div class="page-content">
					<div class="page-header">
						<h1>
							角色管理 <small> <i class="ace-icon fa fa-angle-double-right"></i>
								overview
							</small> <!-- <label style="float: right;">
								<button class="btn btn-white btn-info btn-bold" id="addBtn">
									<i class="ace-icon fa fa-floppy-o bigger-120 blue"></i>添加
								</button>
							</label> -->
						</h1>
					</div>
					
					<form class="form-inline">
						  <div class="form-group">
						    <label for="exampleInputName2"><h4><strong>角色名称:</strong></h4></label>
						    <input type="text" class="form-control" id="exampleInputName2" placeholder="Jane Doe">
						  </div>
						 <div class="form-group">
						    <label><h4><strong>是否有效：</strong></h4></label>
						   	<select class="form-control">
							  <option>1</option>
							  <option>2</option>
							  <option>3</option>
							  <option>4</option>
							  <option>5</option>
							</select>
						  </div>
						  
					  <button class="btn btn-default">
					  <span class="glyphicon glyphicon-search" aria-hidden="true"></span>查询
					  </button>
					  <button class="btn btn-info" id="roleAddBtn">
					  <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>添加角色
					  </button>
					</form>
					<table class="table table-bordered">
						<thead>
							<tr>
								<th>角色名称</th>
								<th>角色code</th>
								<th>权限列表</th>
								<th>是否有效</th>
								<th>操作</th>
							</tr>
						</thead>
						<tbody>
							<#if (roleList??)&&(roleList?size>0)>
								<#list roleList as item>
								<tr id="tr_${item.id?c}">
									<td>${(item.name)!''}</td>
									<td>${(item.code)!''}</td>
									<td>
										<#list item.menuList as menu>
											${(menu.name)!''},
										</#list>
									</td>
									<td>${(item.valid)?c}</td>
								</tr>
								</#list>
							</#if>
						</tbody>
					</table>
				</div>
			</div>			
		</div>
		<#include "../common/footer.html" />
		<!-- 添加 -->
		<div id="dialog-add" class="hide">
			<form action="${(ctx)!''}/user/addOrUpdate" method="post" id="addForm" >
				<input type="hidden" name="id" id="add_id" />
				<p>
					<label>姓名：</label><input type="text" name="name" style="width: 70%;" class='a'
						id="add_name" />
				</p>
				<p>
					<label>密码：</label><input type="text" name="password"
						style="width: 70%;" id="add_password" />
				</p>
				<p>
					<label>年龄：</label><input type="text" name="age" style="width: 70%;"
						id="add_age" />
				</p>
			</form>
		</div>
	</div>
	<#include "../common/script.html" />
	
	<script type="text/javascript">
	//创建添加修改dialog，窗口
    function createDialog(title){
        var dialog = $( "#dialog-add" ).removeClass('hide').dialog({
            modal: true,
            width:400,
            height:300,
            title: "<div class='widget-header widget-header-small'><h4 class='smaller'><i class='ace-icon fa fa-check'></i> "+title+"</h4></div>",
            title_html: true,
            buttons: [ 
                {
                    text: "Cancel",
                    "class" : "btn btn-minier",
                    click: function() {
                        $( this ).dialog( "close" ); 
                        resetAddForm();
                    } 
                },
                {
                    text: "OK",
                    "class" : "btn btn-primary btn-minier",
                    click: function() {
                         $("#addForm").submit();
                    } 
                }
            ]
        });
    }
    </script>
</body>
</html>
